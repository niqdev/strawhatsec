#include <stdio.h>

// gcc pointer_types5.c -o pointer_types5.out
int main() {
  int i;

  char char_array[5] = {'a', 'b', 'c', 'd', 'e'};
  int int_array[5] = {1, 2, 3, 4, 5};

  // anything that is big enough to hold a four-byte value can work the same way as a void pointer
  unsigned int hacky_nonpointer;

  hacky_nonpointer = (unsigned int) char_array;
  for(i=0; i < 5; i++) { // Iterate through the int array with the int_pointer.
    printf("[hacky_nonpointer] points to %p, which contains the char '%c'\n", hacky_nonpointer, *((char *) hacky_nonpointer));
    // instead of typecasting multiple times to do pointer arithmetic on an unsigned integer (which isnâ€™t even a pointer),
    // the sizeof() function is used to achieve the same result using normal arithmetic
    hacky_nonpointer = hacky_nonpointer + sizeof(char);
  }

  hacky_nonpointer = (unsigned int) int_array;
  for(i=0; i < 5; i++) { // Iterate through the int array with the int_pointer.
    printf("[hacky_nonpointer] points to %p, which contains the integer %d\n", hacky_nonpointer, *((int *) hacky_nonpointer));
    hacky_nonpointer = hacky_nonpointer + sizeof(int);
  }
}

/*
The important thing to remember about variables in C is that the compiler is the only thing that cares about a variable's type.
In the end, after the program has been compiled, the variables are nothing more than memory addresses.
This means that variables of one type can easily be coerced into behaving like another type by telling the compiler to typecast them into the desired type.

OUTPUT

./pointer_types5.out 
[hacky_nonpointer] points to 0xffbaaaa7, which contains the char 'a'
[hacky_nonpointer] points to 0xffbaaaa8, which contains the char 'b'
[hacky_nonpointer] points to 0xffbaaaa9, which contains the char 'c'
[hacky_nonpointer] points to 0xffbaaaaa, which contains the char 'd'
[hacky_nonpointer] points to 0xffbaaaab, which contains the char 'e'
[hacky_nonpointer] points to 0xffbaaa90, which contains the integer 1
[hacky_nonpointer] points to 0xffbaaa94, which contains the integer 2
[hacky_nonpointer] points to 0xffbaaa98, which contains the integer 3
[hacky_nonpointer] points to 0xffbaaa9c, which contains the integer 4
[hacky_nonpointer] points to 0xffbaaaa0, which contains the integer 5
*/
